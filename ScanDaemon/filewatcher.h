#pragma once

#include "watcher.h"

namespace watcher
{
    #define FILE_WATCH_BUFFER_SIZE 32 * 1024

    class FileWatcher : public Watcher
    {
    private:
        tstring uncRootPath_;
        tstring normalRootPath_;
        HANDLE dirEventHandle_;

    private:
        void watchThreadFunc(void) override;

    public:
        FileWatcher() : dirEventHandle_(INVALID_HANDLE_VALUE) {};
        ~FileWatcher() = default;
        void stopMonitoring(void) override;
        bool setBaseDirectory(const tstring& rootDirectory);
    };
};

